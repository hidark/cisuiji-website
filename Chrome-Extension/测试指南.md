# 词随记 Chrome 扩展 - 第一阶段测试指南

## 🎉 第一阶段开发完成！

已成功完成第一阶段（核心MVP）的所有开发任务：

### ✅ 已完成功能
- **环境搭建**: TypeScript + Vite + CRXJS 构建配置
- **Chrome MV3配置**: 权限、Service Worker、Content Script
- **IndexedDB存储**: 词汇数据CRUD操作，支持大容量存储
- **Content Script**: 文本选择检测、右键菜单、快捷键(Alt+S)
- **Background Service**: 消息处理、词典API调用、通知系统
- **词典服务**: 在线API + 本地兜底 + 缓存机制
- **SRS算法**: 间隔重复学习算法
- **Popup界面**: 词汇列表、复习系统、统计信息

## 🧪 如何测试扩展

### 1. 在 Chrome 中加载扩展

1. **打开 Chrome 扩展管理页面**
   - 在地址栏输入: `chrome://extensions/`
   - 或者通过菜单: 更多工具 → 扩展程序

2. **启用开发者模式**
   - 在右上角打开"开发者模式"开关

3. **加载扩展**
   - 点击"加载已解压的扩展程序"
   - 选择项目目录下的 `dist` 文件夹

4. **确认加载成功**
   - 扩展列表中应该显示"词随记"
   - 浏览器工具栏应该出现扩展图标

### 2. 核心功能测试

#### 📝 添加单词测试
1. **访问英文网站**（如 Wikipedia、Medium、GitHub）
2. **选择一个英文单词**
3. **测试添加方式**:
   - 方式1: 右键选择"加入单词本 (Alt+S)"
   - 方式2: 选中单词后按 Alt+S
4. **验证结果**:
   - 应该显示"已添加到单词本 ✓"提示
   - 点击扩展图标，在"全部"标签页查看是否添加成功

#### 📚 词典功能测试
1. **添加常见单词**（如 "computer", "programming", "language"）
2. **查看释义**:
   - 应该自动获取在线释义
   - 如果网络失败，应该显示本地兜底释义
3. **测试未知单词**:
   - 添加生僻词，验证错误处理

#### 🔄 复习功能测试
1. **添加几个单词**
2. **打开扩展 Popup**
3. **切换到"待复习"标签页**
4. **点击复习按钮**:
   - 应该弹出复习模态框
   - 显示单词、释义、词性
5. **测试复习评分**:
   - 点击"再来"、"困难"、"一般"、"简单"
   - 验证SRS算法调整复习间隔

#### 📊 界面功能测试
1. **标签页切换**: 待复习、全部、已学会
2. **统计信息**: 今日完成数、连胜天数
3. **单词操作**: 标记已学会、删除单词
4. **空状态**: 验证无单词时的提示信息

### 3. 高级功能测试

#### 🎯 上下文保存
1. **选择句子中的单词**
2. **添加后查看是否保存了句子上下文**

#### 🔔 通知系统
1. **等待通知触发**（需要有待复习的单词）
2. **点击通知应该打开扩展**

#### ⌨️ 快捷键
1. **Alt+S**: 添加选中单词
2. **复习时**:
   - 数字键 1-4: 对应不同复习评分
   - ESC: 关闭复习模态框

### 4. 错误场景测试

#### 🌐 网络异常
1. **断网状态下添加单词**
2. **验证本地兜底词典是否工作**

#### 📱 跨页面测试
1. **在不同类型网站测试**:
   - 普通网页
   - SPA 应用
   - 动态加载内容页面

#### 🔒 权限测试
1. **验证扩展权限请求**
2. **测试在各种网站的兼容性**

## 🐛 已知问题和限制

### 当前版本限制
- **图标缺失**: 暂时移除了图标，后续会添加
- **设置页面**: 还未实现，在弹窗中点击设置会尝试打开
- **音频功能**: 未实现单词发音
- **云同步**: 仅支持本地存储
- **批量操作**: 暂未支持批量删除等功能

### 可能遇到的问题
1. **扩展加载失败**: 检查是否正确选择了 `dist` 目录
2. **权限被拒绝**: Chrome 可能阻止某些权限请求
3. **API 限流**: 在线词典API可能有使用限制
4. **内存使用**: 大量单词可能影响性能

## 📝 测试反馈

请重点测试以下功能点并记录问题：

### 核心流程 ✅
- [ ] 选词添加是否正常
- [ ] 释义获取是否准确
- [ ] 复习流程是否流畅
- [ ] SRS算法是否合理

### 用户体验 ✅
- [ ] 界面响应是否及时
- [ ] 操作逻辑是否直观
- [ ] 错误提示是否清晰
- [ ] 数据是否持久保存

### 稳定性 ✅
- [ ] 长时间使用是否稳定
- [ ] 多页面切换是否正常
- [ ] 扩展重启后数据是否保持
- [ ] 内存占用是否合理

## 🚀 下一步计划

第一阶段测试通过后，将继续开发：

### 第二阶段 (体验优化)
- [ ] 卡片式复习界面
- [ ] 上下文高亮显示
- [ ] 进度可视化
- [ ] 深色模式支持

### 第三阶段 (完善功能)
- [ ] 设置页面
- [ ] 数据导入导出
- [ ] 学习统计报告
- [ ] 性能优化

---

**测试愉快！发现问题请及时反馈。** 🎯