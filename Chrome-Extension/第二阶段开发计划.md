# è¯éšè®°ç¬¬äºŒé˜¶æ®µå¼€å‘è®¡åˆ’

## ğŸ¯ å¼€å‘ç­–ç•¥ä¸ä¼˜å…ˆçº§

### æ ¸å¿ƒç­–ç•¥ï¼š**ä½“éªŒä¼˜å…ˆï¼Œæ€§èƒ½å¹¶é‡**
åŸºäºç¬¬ä¸€é˜¶æ®µMVPçš„ç”¨æˆ·åé¦ˆå’Œä¸“å®¶å»ºè®®ï¼Œç¬¬äºŒé˜¶æ®µèšç„¦**ä»èƒ½ç”¨åˆ°å¥½ç”¨**çš„è½¬å˜ã€‚

## ğŸ“Š åŠŸèƒ½ä¼˜å…ˆçº§çŸ©é˜µ

| åŠŸèƒ½æ¨¡å— | ç”¨æˆ·å½±å“ | å¼€å‘å¤æ‚åº¦ | ä¼˜å…ˆçº§ | é¢„è®¡å·¥æ—¶ |
|---------|---------|-----------|--------|----------|
| **å¡ç‰‡å¼å¤ä¹ ç³»ç»Ÿ** | ğŸ”¥ğŸ”¥ğŸ”¥ | ğŸ”§ğŸ”§ | P0 | 5å¤© |
| **è¿›åº¦å¯è§†åŒ–** | ğŸ”¥ğŸ”¥ğŸ”¥ | ğŸ”§ğŸ”§ğŸ”§ | P0 | 4å¤© |
| **æ·±è‰²æ¨¡å¼** | ğŸ”¥ğŸ”¥ | ğŸ”§ | P0 | 2å¤© |
| **æœç´¢ç­›é€‰** | ğŸ”¥ğŸ”¥ | ğŸ”§ | P0 | 2å¤© |
| **æ€§èƒ½ä¼˜åŒ–** | ğŸ”¥ğŸ”¥ | ğŸ”§ğŸ”§ğŸ”§ | P1 | 3å¤© |
| **æ‰¹é‡æ“ä½œ** | ğŸ”¥ | ğŸ”§ | P1 | 2å¤© |
| **è®¾ç½®é¡µé¢** | ğŸ”¥ | ğŸ”§ | P1 | 2å¤© |
| **æ•°æ®å¯¼å…¥å¯¼å‡º** | ğŸ”¥ | ğŸ”§ğŸ”§ | P2 | 2å¤© |
| **éŸ³é¢‘å‘éŸ³** | ğŸ”¥ | ğŸ”§ | P2 | 2å¤© |

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„å†³ç­–

### 1. **çŠ¶æ€ç®¡ç†å‡çº§**
```typescript
// é€‰æ‹© Zustand - è½»é‡çº§ï¼Œé€‚åˆChromeæ‰©å±•
import { create } from 'zustand';
import { persist } from 'zustand/middleware';

interface AppState {
  // å¤ä¹ çŠ¶æ€
  reviewSession: ReviewSession | null;
  currentCard: number;
  reviewMode: ReviewMode;
  
  // ç•Œé¢çŠ¶æ€  
  theme: 'light' | 'dark' | 'auto';
  searchQuery: string;
  selectedWords: string[];
  
  // æ•°æ®çŠ¶æ€
  words: WordEntry[];
  statistics: LearningStats;
  settings: Settings;
}
```

### 2. **ç»„ä»¶æ¶æ„é‡æ„**
```
src/
â”œâ”€â”€ components/           # å¯å¤ç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ ui/              # åŸºç¡€UIç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Button/
â”‚   â”‚   â”œâ”€â”€ Card/
â”‚   â”‚   â”œâ”€â”€ Modal/
â”‚   â”‚   â””â”€â”€ Charts/
â”‚   â”œâ”€â”€ features/        # åŠŸèƒ½ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ReviewCard/
â”‚   â”‚   â”œâ”€â”€ WordList/
â”‚   â”‚   â”œâ”€â”€ SearchBox/
â”‚   â”‚   â””â”€â”€ StatsPanel/
â”œâ”€â”€ hooks/               # è‡ªå®šä¹‰é’©å­
â”‚   â”œâ”€â”€ useVirtualScroll.ts
â”‚   â”œâ”€â”€ useLocalStorage.ts
â”‚   â””â”€â”€ useKeyboard.ts
â”œâ”€â”€ stores/              # çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ reviewStore.ts
â”‚   â”œâ”€â”€ wordsStore.ts
â”‚   â””â”€â”€ settingsStore.ts
â””â”€â”€ utils/               # å·¥å…·å‡½æ•°
    â”œâ”€â”€ animations.ts
    â”œâ”€â”€ keyboard.ts
    â””â”€â”€ performance.ts
```

### 3. **æ€§èƒ½ä¼˜åŒ–ç­–ç•¥**
```typescript
// è™šæ‹Ÿæ»šåŠ¨å®ç°
export function useVirtualScroll<T>({
  items,
  itemHeight,
  containerHeight,
  overscan = 5
}: VirtualScrollOptions<T>) {
  const [scrollTop, setScrollTop] = useState(0);
  
  const visibleRange = useMemo(() => {
    const start = Math.max(0, Math.floor(scrollTop / itemHeight) - overscan);
    const end = Math.min(
      items.length,
      Math.ceil((scrollTop + containerHeight) / itemHeight) + overscan
    );
    return { start, end };
  }, [scrollTop, items.length, itemHeight, containerHeight, overscan]);
  
  return {
    visibleItems: items.slice(visibleRange.start, visibleRange.end),
    totalHeight: items.length * itemHeight,
    offsetY: visibleRange.start * itemHeight,
    setScrollTop
  };
}
```

## ğŸ“… è¯¦ç»†å¼€å‘è®¡åˆ’

### **Phase 2.1 - å¤ä¹ ä½“éªŒé‡æ„ (Week 1)**

#### Day 1-2: å¡ç‰‡ç»„ä»¶åŸºç¡€æ¶æ„
**ç›®æ ‡**: å»ºç«‹æ–°çš„å¤ä¹ ç³»ç»Ÿæ¶æ„
```typescript
// å®ç°å†…å®¹
interface ReviewCard {
  id: string;
  word: WordEntry;
  isFlipped: boolean;
  showingAnswer: boolean;
  userRating?: ReviewRating;
}

interface ReviewSession {
  cards: ReviewCard[];
  currentIndex: number;
  mode: 'study' | 'rapid' | 'test';
  startTime: number;
  stats: SessionStats;
}
```

**äº¤ä»˜ç‰©**:
- `ReviewCard` ç»„ä»¶ï¼ˆå¡ç‰‡ç¿»è½¬åŠ¨ç”»ï¼‰
- `ReviewSession` çŠ¶æ€ç®¡ç†
- åŸºç¡€çš„å¡ç‰‡åˆ‡æ¢é€»è¾‘

#### Day 3-4: å¤ä¹ æµç¨‹å’Œäº¤äº’
**ç›®æ ‡**: å®ç°å®Œæ•´çš„å¤ä¹ å­¦ä¹ æµç¨‹
```typescript
// å¤ä¹ æ¨¡å¼
enum ReviewMode {
  Study = 'study',     // å­¦ä¹ æ¨¡å¼ï¼šæ˜¾ç¤ºé‡Šä¹‰
  Test = 'test',       // æµ‹è¯•æ¨¡å¼ï¼šå…ˆæ€è€ƒå†æ˜¾ç¤º
  Rapid = 'rapid'      // å¿«é€Ÿæ¨¡å¼ï¼šå‡å°‘åŠ¨ç”»å»¶è¿Ÿ
}
```

**äº¤ä»˜ç‰©**:
- ä¸‰ç§å¤ä¹ æ¨¡å¼åˆ‡æ¢
- è®°å¿†æµ‹è¯•æµç¨‹ï¼ˆéšè—â†’æ€è€ƒâ†’æ˜¾ç¤ºâ†’è¯„åˆ†ï¼‰
- è¿›åº¦æŒ‡ç¤ºå™¨å’Œå‰©ä½™æ•°é‡æ˜¾ç¤º

#### Day 5-7: å¿«æ·é”®å’Œç»†èŠ‚ä¼˜åŒ–
**ç›®æ ‡**: æå‡æ“ä½œæ•ˆç‡å’Œç”¨æˆ·ä½“éªŒ

**å¿«æ·é”®æ–¹æ¡ˆ**:
```typescript
const reviewHotkeys = {
  'Space': 'ç¿»è½¬å¡ç‰‡/æ˜¾ç¤ºç­”æ¡ˆ',
  '1': 'å†æ¥(Again)', 
  '2': 'å›°éš¾(Hard)',
  '3': 'ä¸€èˆ¬(Good)',
  '4': 'ç®€å•(Easy)',
  'ArrowLeft': 'ä¸Šä¸€å¼ å¡ç‰‡',
  'ArrowRight': 'ä¸‹ä¸€å¼ å¡ç‰‡',
  'Escape': 'é€€å‡ºå¤ä¹ '
};
```

**äº¤ä»˜ç‰©**:
- å®Œæ•´çš„å¿«æ·é”®ç³»ç»Ÿ
- å¤ä¹ å®Œæˆç»Ÿè®¡é¡µé¢
- åŠ¨ç”»å’Œå¾®äº¤äº’ä¼˜åŒ–

### **Phase 2.2 - æ•°æ®å¯è§†åŒ– (Week 2)**

#### Day 1-2: å­¦ä¹ æ•°æ®å»ºæ¨¡
**ç›®æ ‡**: è®¾è®¡å’Œå®ç°å­¦ä¹ ç»Ÿè®¡æ•°æ®ç»“æ„

```typescript
interface LearningStats {
  // åŸºç¡€ç»Ÿè®¡
  totalWords: number;
  masteredWords: number;
  reviewAccuracy: number;
  
  // æ—¶é—´ç»´åº¦ç»Ÿè®¡  
  dailyStats: DailyStats[];
  weeklyTrend: WeeklyTrend;
  
  // æŒæ¡åº¦åˆ†æ
  masteryDistribution: MasteryLevel[];
  difficultyAnalysis: DifficultyStats;
  
  // æˆå°±æ•°æ®
  streakDays: number;
  achievements: Achievement[];
  milestones: Milestone[];
}
```

#### Day 3-4: å›¾è¡¨ç»„ä»¶å®ç°
**æŠ€æœ¯é€‰æ‹©**: Chart.js (è½»é‡) æˆ– è‡ªå»ºç®€å•å›¾è¡¨

```typescript
// å›¾è¡¨ç±»å‹
- PieChart: æŒæ¡åº¦åˆ†å¸ƒ
- LineChart: å­¦ä¹ æ›²çº¿  
- HeatMap: å­¦ä¹ æ´»è·ƒåº¦
- BarChart: æ¯æ—¥å¤ä¹ æ•°æ®
- ProgressRing: ä»Šæ—¥è¿›åº¦
```

#### Day 5: å­¦ä¹ ä»ªè¡¨ç›˜æ•´åˆ
**ç›®æ ‡**: åˆ›å»ºç»¼åˆçš„å­¦ä¹ æ•°æ®å¯è§†åŒ–ç•Œé¢

### **Phase 2.3 - ç•Œé¢ç°ä»£åŒ– (Week 2 ååŠ)**

#### Day 6-7: æ·±è‰²æ¨¡å¼å’Œä¸»é¢˜ç³»ç»Ÿ
```css
/* CSSå˜é‡ä¸»é¢˜ç³»ç»Ÿ */
[data-theme="light"] {
  --bg-primary: #ffffff;
  --bg-secondary: #f9fafb;
  --text-primary: #111827;
  --accent: #667eea;
}

[data-theme="dark"] {
  --bg-primary: #1f2937;
  --bg-secondary: #111827;
  --text-primary: #f9fafb;
  --accent: #818cf8;
}
```

### **Phase 2.4 - æœç´¢å’Œæ€§èƒ½ (Week 3)**

#### Day 1-2: æœç´¢ç­›é€‰ç³»ç»Ÿ
```typescript
interface SearchOptions {
  query: string;
  filters: {
    status?: WordStatus[];
    source?: string[];
    dateRange?: [Date, Date];
    difficulty?: DifficultyLevel[];
  };
  sortBy: 'date' | 'alphabetical' | 'frequency';
  sortOrder: 'asc' | 'desc';
}
```

#### Day 3-5: æ€§èƒ½ä¼˜åŒ–
- è™šæ‹Ÿæ»šåŠ¨å®ç°
- å›¾ç‰‡å’Œæ•°æ®æ‡’åŠ è½½
- é˜²æŠ–æœç´¢
- ç¼“å­˜ç­–ç•¥ä¼˜åŒ–

### **Phase 2.5 - åŠŸèƒ½å®Œå–„ (Week 4)**

#### Day 1-2: æ‰¹é‡æ“ä½œ
- å¤šé€‰ç•Œé¢
- æ‰¹é‡åˆ é™¤ã€æ ‡è®°ã€å¯¼å‡º
- æ“ä½œæ’¤é”€åŠŸèƒ½

#### Day 3-4: è®¾ç½®é¡µé¢
- ä¸ªæ€§åŒ–é…ç½®ç•Œé¢
- æ•°æ®ç®¡ç†åŠŸèƒ½
- é«˜çº§è®¾ç½®é€‰é¡¹

#### Day 5-7: æ•°æ®å¯¼å…¥å¯¼å‡ºå’ŒéŸ³é¢‘
- CSV/JSONå¯¼å…¥å¯¼å‡º
- æµè§ˆå™¨TTSé›†æˆ
- å‘éŸ³æŒ‰é’®å’Œè‡ªåŠ¨æ’­æ”¾

## ğŸ§ª æµ‹è¯•ç­–ç•¥

### 1. **å¼€å‘è¿‡ç¨‹æµ‹è¯•**
```typescript
// å•å…ƒæµ‹è¯•é‡ç‚¹
- å¤ä¹ ç®—æ³•é€»è¾‘
- æ•°æ®ç»Ÿè®¡è®¡ç®—  
- æœç´¢ç­›é€‰åŠŸèƒ½
- å¯¼å…¥å¯¼å‡ºåŠŸèƒ½

// é›†æˆæµ‹è¯•é‡ç‚¹
- å¤ä¹ æµç¨‹å®Œæ•´æ€§
- æ•°æ®æŒä¹…åŒ–
- å¿«æ·é”®ç³»ç»Ÿ
- ä¸»é¢˜åˆ‡æ¢
```

### 2. **æ€§èƒ½åŸºå‡†æµ‹è¯•**
```typescript
// æ€§èƒ½æŒ‡æ ‡
const performanceTargets = {
  firstContentfulPaint: '<300ms',
  largeContentfulPaint: '<800ms', 
  totalBlockingTime: '<100ms',
  cumulativeLayoutShift: '<0.1',
  
  // åŠŸèƒ½æ€§èƒ½
  searchResponse: '<50ms',
  cardFlipAnimation: '60fps',
  virtualScrollFps: '60fps',
  memoryUsage: '<80MB'
};
```

### 3. **ç”¨æˆ·ä½“éªŒæµ‹è¯•**
- å¤ä¹ æµç¨‹å¯ç”¨æ€§æµ‹è¯•
- å¿«æ·é”®å­¦ä¹ æ›²çº¿æµ‹è¯•
- å¤§æ•°æ®é‡æ€§èƒ½æµ‹è¯• (1000+ words)
- ä¸åŒå±å¹•å°ºå¯¸é€‚é…æµ‹è¯•

## ğŸ¯ æˆåŠŸæ ‡å‡†

### å®šé‡æŒ‡æ ‡
- **æ€§èƒ½**: æ‰€æœ‰äº¤äº’å“åº”æ—¶é—´ < 100ms
- **ä½“éªŒ**: å¤ä¹ å®Œæˆç‡ > 90%
- **ç¨³å®šæ€§**: é›¶crashï¼Œå†…å­˜ä½¿ç”¨ < 80MB
- **è´¨é‡**: ä»£ç è¦†ç›–ç‡ > 85%

### å®šæ€§æŒ‡æ ‡
- **è§†è§‰**: ç°ä»£åŒ–ã€ä¸€è‡´æ€§çš„ç•Œé¢è®¾è®¡
- **äº¤äº’**: æµç•…çš„åŠ¨ç”»å’Œå³æ—¶åé¦ˆ
- **å­¦ä¹ **: æœ‰æ•ˆçš„è®°å¿†æµ‹è¯•å’Œè¿›åº¦è¿½è¸ª
- **æ•ˆç‡**: æ”¯æŒé”®ç›˜æ“ä½œå’Œæ‰¹é‡ç®¡ç†

## âš ï¸ é£é™©ç¼“è§£

### å¼€å‘é£é™©
1. **å¤æ‚åº¦æ§åˆ¶**: MVPä¼˜å…ˆï¼Œé«˜çº§åŠŸèƒ½å¯é€‰
2. **æ€§èƒ½é£é™©**: åˆ†é˜¶æ®µå‹åŠ›æµ‹è¯•ï¼ŒåŠæ—¶ä¼˜åŒ–
3. **å…¼å®¹æ€§**: åœ¨å¤šä¸ªChromeç‰ˆæœ¬æµ‹è¯•

### äº§å“é£é™©  
1. **ç”¨æˆ·ä¹ æƒ¯**: æ¸è¿›å¼æ”¹è¿›ï¼Œä¿æŒå‘åå…¼å®¹
2. **åŠŸèƒ½è†¨èƒ€**: ä¸¥æ ¼æŒ‰ä¼˜å…ˆçº§å¼€å‘ï¼Œé¿å…feature creep
3. **è´¨é‡ä¿è¯**: æ¯å‘¨æœ«è¿›è¡Œå®Œæ•´æµ‹è¯•å’Œæ¼”ç¤º

---

## ğŸš€ å¯åŠ¨å‡†å¤‡

### ä¸‹ä¸€æ­¥è¡ŒåŠ¨
1. **ç¡®è®¤è®¡åˆ’**: è¯„å®¡å¼€å‘è®¡åˆ’å’Œæ—¶é—´å®‰æ’
2. **ç¯å¢ƒå‡†å¤‡**: å®‰è£…ä¾èµ–å’Œå¼€å‘å·¥å…·
3. **æ¶æ„æ­å»º**: åˆ›å»ºåŸºç¡€ç»„ä»¶å’ŒçŠ¶æ€ç®¡ç†
4. **å¯åŠ¨å¼€å‘**: å¼€å§‹ç¬¬ä¸€ä¸ªåŠŸèƒ½æ¨¡å—

### ä¾èµ–å’Œå·¥å…·
```json
{
  "dependencies": {
    "zustand": "^4.4.0",
    "chart.js": "^4.4.0", 
    "react-chartjs-2": "^5.2.0",
    "framer-motion": "^10.16.0"
  },
  "devDependencies": {
    "@testing-library/react": "^13.4.0",
    "@testing-library/user-event": "^14.5.0"
  }
}
```

**å‡†å¤‡å¥½å¼€å§‹ç¬¬äºŒé˜¶æ®µå¼€å‘äº†å—ï¼Ÿ** ğŸ¯