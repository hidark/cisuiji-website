## 交互文档（Interaction Design）— 词随记

### 信息架构
- **弹窗（Popup）**: 待复习 | 全部 | 已学会（Tab）。
- **设置页（Options）**: 数据源、复习强度、每日上限、通知时间窗、导入导出、清空数据、统计。
- **右键菜单（Context Menu）**: “加入单词本（Alt+S）”。

### 页面与核心元素
- **弹窗顶部栏**: 今日统计（今日完成/待复习/连胜）、设置入口。
- **列表项（统一样式）**: 单词 | 简明释义 | 来源（悬浮显示标题与域名） | 时间（due/添加） | 操作（掌握/稍后/错误/学会/删除）。
- **卡片模式（可选）**: 正面显示单词，背面显示释义与词性；支持快捷键答题。

### 关键流程
- **划词→加入**
  - 选中文本→右键“加入单词本”（或 Alt+S）→ Toast “已添加（释义更新中…）”。
  - 释义更新完成后，列表项标注来源（online/local）。
- **通知→复习**
  - 在 `notifyWindow` 内推送聚合通知；点击打开弹窗并定位到首个待复习。
- **复习→打分**
  - 三档操作：掌握/模糊/错误。操作后自动切至下一词；当前词的 `review` 字段即时更新。
- **标记为已学会**
  - 在任何列表项上可快捷标记；标记后从待复习移除。

### UI 规范与行为
- **尺寸**: 弹窗宽 360–420px，自适应内容高度；支持滚动。
- **状态**: 加载、成功、失败三态；失败提示“已使用本地释义”。
- **反馈**: 成功加入提示 <1s 自动消失；重要失败可点击“重试”。
- **空态**: 无待复习 → “今日轻松结束”；无全部 → “从网页划词开始吧”。
- **统计**: 置顶显示，点击可展开更多。

### 可访问性
- **键盘操作**: Tab 合理顺序；Enter/Space 执行主操作；显示快捷键提示。
- **对比度**: 主要文本与交互元素对比度≥4.5:1。
- **ARIA**: 列表、按钮、切换等元素具备合适 ARIA 属性。

### 文案规范（示例）
- **加入成功**: 已添加到单词本（释义更新中…）
- **释义失败**: 网络不稳定，已使用本地释义；稍后自动更新
- **复习完成**: 今天真棒！已完成 {n} 个单词


